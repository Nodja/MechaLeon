<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/vuetify/1.3.0-alpha.1/vuetify.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vuetify/1.3.0-alpha.1/vuetify.js"></script>
    <script src="https://unpkg.com/vue-ls@3.2.0/dist/vue-ls.min.js"></script>

    <link href="https://vjs.zencdn.net/7.2.3/video-js.css" rel="stylesheet">
    <script src="https://vjs.zencdn.net/7.2.3/video.js"></script>




    <title>Dangobango 3 total legit stream popup </title>
</head>

<body>


    <div id="app">
        <v-app>
            <v-content>
                <v-container>
                    <v-layout row wrap>
                        <v-flex xs10 offset-xs1 text-xs-center>
                            <h1>{{ current_playing['name'] }}</h1>
                            <h1>{{ formatTime(current_playing['time']) }}</h1>
                        </v-flex>
                    </v-layout>
                </v-container>
            </v-content>
        </v-app>
    </div>

    <script>
        Vue.use(VueStorage);

        function str_pad_left(string, pad, length) {
            return (new Array(length + 1).join(pad) + string).slice(-length);
        }
        new Vue({
            el: '#app',

            data: {
                current_playing: {},
            },

            mounted() {
                var v = this;

                this.$ls.on('current_playing', function (val) {
                    v.current_playing = val;
                });
            },
            methods: {
                formatTime(val) {
                    var minutes = parseInt(Math.floor(val / 60));
                    var seconds = parseInt(val % 60);
                    console.log(seconds == NaN);
                    if (isNaN(seconds))
                        return "";
                    else
                        return str_pad_left(minutes, '0', 2) + ':' + str_pad_left(seconds, '0', 2);
                },
            },
            watch: {
                current_playing: function (val) {
                    this.$ls.set('current_playing', val)
                }
            },
        })
    </script>

    <style>

    </style>
</body>

</html>